---
title: '2020-12-17'
excerpt: '강의 정리(애플) - 0303. 좌우 흰색 영역 계산 원리'
toc: true
toc_sticky: true
toc_label: 'On this page'

categories:
  - TIL
tags:
  - apple
  - clone-coding
last_modified_at: 2020-12-17T08:06:00-05:00
---

### 강의 정리 - 303. 좌우 흰색 영역 계산 원리

<br />
스크롤 했을 때 캐릭터 크기는 그대로인데 회색 배경 부분만 커진다. 이는 실제로 캔버스 사이즈가 조절 되는게 아니란 의미이다.
scale을 제어하는 게 아니라 다른 방법을 써야 한다.
<br />

이를 어떻게 처리하냐면, 캔버스의 양옆에 하얀 박스를 두고 이것들이 이동하게 만들면 된다.

1.  div로 박스들을 만들어서 옮겨도 되고,(애플의 방식)
2.  아예 캔버스 안에서 박스를 그려 위치를 이동시킨다 (강의)

어차피 캔버스 내에서 이동하는 것이기 때문에 2번 방법을 쓰도록 하겠다. 이게 성능 상으로도 더 낫다.

<br />

---

이제 캔버스 사이드에 2개의 박스를 만들 건데, 여기서 까다로운 게 캔버스가 화면에서 완전히 안 보인다는 점이다.

![apple_303](https://user-images.githubusercontent.com/75867748/102463899-0a2aa500-408f-11eb-88da-f03cd7525fa2.png)

현재 검은색은 우리 모니터, 빨간색은 캔버스의 크기이다. 파란색은 박스 영역이다. 파란색 박스는 캔버스의 양 옆에 그려야 한다. 하지만 실제로 우리가 파란색을 그린다면 캔버스의 넓이가 모니터보다 넓기 때문에 위의 그림처럼 파란색이 화면에서 짤려보일 것이다. 그래서 정확한 수치를 계산을 할 수가 없다.
<br />
따라서 현재 우리 눈에 보이는 만큼을 고려해서 아래와 같이 그려야 한다.

![apple_303-2](https://user-images.githubusercontent.com/75867748/102464626-ef0c6500-408f-11eb-8639-d4004f5d3175.png)

흰색 박스가 모니터 양옆에 있다가 점점 모니터 밖으로 빠지면서 화면이 꽉 차 보이게 될 것이다.

<br />

그렇다면 이걸 어떻게 구해야 할까?

![apple_303-3](https://user-images.githubusercontent.com/75867748/102466599-912d4c80-4092-11eb-8085-000e3d7918f8.png)

실제 캔버스 크기는 1920\*1080 이지만 지금 우리 눈에 보이는 캔버스는 모니터 크기에 맞춰 조정된 크기이다. 이 상태에서 원래 캔버스 크기에 맞게 박스를 그리면 앞서 봤듯이 화면이 짤릴 수 있다. 따라서 화면에 핏된 캔버스 크기를 다시 구한 다음, 여기에 맞는 innerheight값과 innerwidth 값을 구해 박스를 만들면 된다.

(+) 다시 설명 :
현재 캔버스의 높이가 창 높이에 딱 맞도록 조정되어 있는데, 만약 세로로 홀쭉한 스마트폰에 저 캔버스를 채운다면 캔버스의 좌우는 잘리게 된다. 그런데 좌우에 그려질 하얀 박스는 캔버스의 양 끝이 아니라, 우리 눈에 보이는 캔버스 영역의 좌우 끝에 배치되어야 하므로 그 계산을 위해서 현재 창 사이즈와 같은 비율의 캔버스 크기를 설정해야 한다.
