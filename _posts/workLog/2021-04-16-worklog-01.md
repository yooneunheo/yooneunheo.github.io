---
title: '자동검색어 인풋창 닫기'
excerpt: '20210416 작업일지'
toc: true
toc_sticky: true
toc_label: 'On this page'

categories:
  - workLog
tags:
  - 에러
last_modified_at: 2020-04-16T08:06:00-05:00
---

#### 상황 :

인풋창에 검색어를 입력하면 하단에 자동검색어 창이 뜬다. 하지만 인풋창에 포커스가 없을 때는 자동검색어 창이 닫혀야 하는데 닫히지 않는 오류가 있었다. 따라서 포커스를 잃거나 submit을 했을 때는 자동검색어 창이 닫히게 만들어야 한다.

<br>

```jsx
const [focused, setFocused] = useState(false);

(...)

<form onSubmit={handleSubmit}>
  <Input
  (...)
    onInput={() => {
      setFocused(true);
    }}
    onBlur={() => {
      setFocused(false);
    }}
    onPressEnter={() => {
      setFocused(false);
    }}
  />
  (...)
</form>;
{
  focused && (
    <div>
      {autoComplete.map((item) => {
        return <div onClick={() => autoClick(item)}>{item}</div>;
      })}
    </div>
  );
}
```

<br>

#### 설명:

onPressEnter 에서 setFocused(false)를 넣은 이유는 검색어를 입력하고 submit 했을 때 자동검색어 창이 그대로 유지되기 때문.

<br>
