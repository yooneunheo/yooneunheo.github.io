---
title: '자동검색어 인풋창 닫기(수정)'
excerpt: '20210419 작업일지'
toc: true
toc_sticky: true
toc_label: 'On this page'

categories:
  - workLog
tags:
  - 에러
last_modified_at: 2020-04-19T08:06:00-05:00
---

#### 상황 :

저번에 만든 코드는 에러가 있었다. 자동검색어 창에 있는 단어를 클릭하려고 하면 바로 창이 사라져서 자동검색어 기능을 사용할 수가 없었다. 저번에는 focused의 상태에 따라 <div></div> 자체를 나타나거나 사라지게 했다면, 이번에는 focused 상태에 따라 show 라는 클래스가 붙거나 떼지게 만들었다. 그리고 onBlur()일 때, setTimeout을 줘서 단어를 변경한 다음 창이 사라지게 만들었다.

<br>

```jsx
 .autoCompleteList {
        display: flex;
        flex-direction: column;
        width: 100%;
        height: 0;
        opacity: 0;
        overflow: hidden;
      }
      .autoCompleteList.show {
        opacity: 1;
        height: 100%;
        max-height: 71px;
        padding: 0.2em 0.5em;
        box-shadow: 0 3px 6px -4px rgb(0 0 0 / 12%),
          0 6px 16px 0 rgb(0 0 0 / 8%), 0 9px 28px 8px rgb(0 0 0 / 5%);
      }
    }



 <form onSubmit={handleSubmit}>
   <Input
     placeholder="키워드를 입력하세요"
     suffix={<SearchOutlined onClick={handleSubmit} />}
     value={onChangeValue}
     onChange={handleChange}
     disabled={inputSearching}
     onClick={() => {
       setOnChangeValue('');
      }}
     onInput={() => {
       setFocused(true);
      }}
     onBlur={() => {
       setTimeout(() => {
       setFocused(false);
       }, 300);
     }}
    />
(...)
  </form>
    <div className={'autoCompleteList' + (focused ? ' show' : '')}>
       {autoComplete.map((item) => {
         return <div onClick={() => autoClick(item)}>{item}</div>;
          })}
     </div>

```

<br>
